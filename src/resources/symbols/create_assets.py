import zipfile

# -------------------------------------------------------------------------
# UI ICONS (24x24) - Unchanged
# -------------------------------------------------------------------------
# (Keeping the original UI icons as they were approved)
ui_icons = {
    "icons/tool_pointer.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/><path d="M13 13l6 6"/></svg>""",
    "icons/tool_wire.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><circle cx="5" cy="19" r="2"/><circle cx="19" cy="5" r="2"/><path d="M5 17v-6h6v-6h6"/></svg>""",
    "icons/tool_net_label.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/><path d="M10 12h4"/></svg>""",
    "icons/tool_rotate.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/></svg>""",
    "icons/tool_flip.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M12 2v20"/><path d="M5 19l4-7-4-7"/><path d="M19 19l-4-7 4-7"/></svg>""",
    "icons/tool_delete.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>""",
    "icons/comp_resistor.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M2 12h4l2-6 4 12 4-12 2 6h4"/></svg>""",
    "icons/comp_capacitor.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M2 12h8"/><path d="M14 12h8"/><path d="M10 6v12"/><path d="M14 6v12"/></svg>""",
    "icons/comp_inductor.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M2 12h3c.6 0 1-1 1-2.5S5 7 4 7c-1.5 0-2 2-2 3"/><path d="M5 9.5c.6 0 1-1 1-2.5S5 4.5 4 4.5"/><path d="M22 12h-3c-3 0-3-5-6-5s-3 5-6 5s-3-5-6-5"/><path d="M2 12h2"/></svg>""",
    "icons/comp_diode.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M22 12h-6"/><path d="M8 12H2"/><path d="M8 7v10"/><path d="M8 12l8-5v10z"/><path d="M16 7v10"/></svg>""",
    "icons/comp_bjt.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10"/><path d="M10 8v8"/><path d="M10 12h-4"/><path d="M16 6l-6 4"/><path d="M16 18l-6-4"/></svg>""",
    "icons/comp_mosfet.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M2 7v10"/><path d="M6 7v2"/><path d="M6 11v2"/><path d="M6 15v2"/><path d="M10 12h4"/><path d="M14 7v10"/><path d="M14 7h6"/><path d="M14 17h6"/></svg>""",
    "icons/comp_opamp.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M4 19L20 12 4 5v14z"/><path d="M20 12h4"/><path d="M7 9h2"/><path d="M8 8v2"/><path d="M7 15h2"/></svg>""",
    "icons/comp_vsource.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9"/><path d="M12 3v-2"/><path d="M12 21v2"/><path d="M9 12h6"/><path d="M12 9v6"/></svg>""",
    "icons/comp_isource.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9"/><path d="M12 3v-2"/><path d="M12 21v2"/><path d="M12 17V7"/><path d="M9 10l3-3 3 3"/></svg>""",
    "icons/comp_ground.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M12 2v10"/><path d="M4 12h16"/><path d="M7 16h10"/><path d="M10 20h4"/></svg>""",
    "icons/sim_run_dc.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><polygon points="5 3 19 12 5 21 5 3"/><path d="M12 12h-2"/><line x1="8" y1="16" x2="11" y2="16"/></svg>""",
    "icons/sim_run_ac.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M2 12c.6 0 2-5 5-5s4.4 10 9 10 6-5 6-5"/><polygon points="17 6 22 6 19.5 10"/></svg>""",
    "icons/sim_noise.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M2 12h2l2-3 2 6 2-4 2 5 2-6 2 4 2-3 2 1h2"/></svg>""",
    "icons/sim_fft.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><line x1="6" y1="20" x2="6" y2="14"/><line x1="10" y1="20" x2="10" y2="8"/><line x1="14" y1="20" x2="14" y2="12"/><line x1="18" y1="20" x2="18" y2="16"/><path d="M2 20h20"/></svg>""",
    "icons/sim_transient.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M3 20h4l2-14h6l2 14h4"/></svg>""",
    "icons/ai_optimize.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/><path d="M16 16l3 3"/><path d="M5 5l3 3"/></svg>""",
    "icons/ai_chat.svg": """<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/><circle cx="12" cy="12" r="1" fill="currentColor" stroke="none"/><circle cx="8" cy="12" r="1" fill="currentColor" stroke="none"/><circle cx="16" cy="12" r="1" fill="currentColor" stroke="none"/></svg>""",
}

# -------------------------------------------------------------------------
# SCHEMATIC SYMBOLS (64x64) - Grid Aligned (8px)
# -------------------------------------------------------------------------
# Terminals always at x=0, x=64, y=0, or y=64 (Edge of box)
# Internal points snapped to grid 8, 16, 24, 32, 40, 48, 56
schematic_symbols = {
    # PASSIVES: Terminals at (0,32) and (64,32)
    "symbols/passive_resistor.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="0" y1="32" x2="16" y2="32" /><polyline points="16,32 20,22 28,42 36,22 44,42 48,32" /><line x1="48" y1="32" x2="64" y2="32" /></svg>""",
    "symbols/passive_capacitor.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="0" y1="32" x2="24" y2="32" /><line x1="24" y1="16" x2="24" y2="48" /><line x1="40" y1="16" x2="40" y2="48" /><line x1="40" y1="32" x2="64" y2="32" /></svg>""",
    "symbols/passive_inductor.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="0" y1="32" x2="16" y2="32" /><path d="M16,32 A8,8 0 0,1 24,32 A8,8 0 0,1 32,32 A8,8 0 0,1 40,32 A8,8 0 0,1 48,32" /><line x1="48" y1="32" x2="64" y2="32" /></svg>""",
    "symbols/passive_ground.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="32" y1="0" x2="32" y2="32" /><line x1="16" y1="32" x2="48" y2="32" /><line x1="24" y1="40" x2="40" y2="40" /><line x1="28" y1="48" x2="36" y2="48" /></svg>""",
    "symbols/passive_test_point.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="16" r="8" /><line x1="32" y1="24" x2="32" y2="64" /></svg>""",
    
    # DIODES: Terminals at (0,32) and (64,32)
    "symbols/diode_standard.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="0" y1="32" x2="24" y2="32" /><line x1="40" y1="32" x2="64" y2="32" /><polygon points="24,24 40,32 24,40" /><line x1="40" y1="24" x2="40" y2="40" /></svg>""",
    "symbols/diode_zener.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="0" y1="32" x2="24" y2="32" /><line x1="40" y1="32" x2="64" y2="32" /><polygon points="24,24 40,32 24,40" /><polyline points="48,16 40,24 40,40 32,48" /></svg>""",
    "symbols/diode_led.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="0" y1="32" x2="24" y2="32" /><line x1="40" y1="32" x2="64" y2="32" /><polygon points="24,24 40,32 24,40" /><line x1="40" y1="24" x2="40" y2="40" /><line x1="32" y1="16" x2="40" y2="8" /><line x1="40" y1="8" x2="34" y2="8" /><line x1="40" y1="8" x2="40" y2="14" /><line x1="42" y1="20" x2="50" y2="12" /><line x1="50" y1="12" x2="44" y2="12" /><line x1="50" y1="12" x2="50" y2="18" /></svg>""",
    "symbols/diode_schottky.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="0" y1="32" x2="24" y2="32" /><line x1="40" y1="32" x2="64" y2="32" /><polygon points="24,24 40,32 24,40" /><polyline points="48,24 40,24 40,40 32,40" /></svg>""",
    
    # TRANSISTORS: Centered on vertical line x=32
    # Base/Gate: (0, 32)
    # Collector/Drain: (32, 0)
    # Emitter/Source: (32, 64)
    "symbols/transistor_npn.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="32" r="24" /><line x1="0" y1="32" x2="16" y2="32" /><line x1="16" y1="20" x2="16" y2="44" /><line x1="32" y1="0" x2="32" y2="16" /><line x1="32" y1="16" x2="16" y2="28" /><line x1="32" y1="64" x2="32" y2="48" /><line x1="32" y1="48" x2="16" y2="36" /><polyline points="26,52 32,48 30,42" /></svg>""",
    "symbols/transistor_pnp.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="32" r="24" /><line x1="0" y1="32" x2="16" y2="32" /><line x1="16" y1="20" x2="16" y2="44" /><line x1="32" y1="0" x2="32" y2="16" /><line x1="32" y1="16" x2="16" y2="28" /><line x1="32" y1="64" x2="32" y2="48" /><line x1="32" y1="48" x2="16" y2="36" /><polyline points="20,28 16,36 24,34" /></svg>""",
    "symbols/transistor_nmos.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="32" r="24" /><line x1="0" y1="32" x2="16" y2="32" /><line x1="16" y1="16" x2="16" y2="48" /><line x1="24" y1="16" x2="24" y2="24" /><line x1="24" y1="28" x2="24" y2="36" /><line x1="24" y1="40" x2="24" y2="48" /><line x1="32" y1="0" x2="32" y2="16" /><line x1="32" y1="16" x2="24" y2="16" /><line x1="32" y1="64" x2="32" y2="48" /><line x1="32" y1="48" x2="24" y2="48" /><polyline points="24,32 30,32 27,27" /></svg>""",
    "symbols/transistor_pmos.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="32" r="24" /><line x1="0" y1="32" x2="16" y2="32" /><line x1="16" y1="16" x2="16" y2="48" /><line x1="24" y1="16" x2="24" y2="24" /><line x1="24" y1="28" x2="24" y2="36" /><line x1="24" y1="40" x2="24" y2="48" /><line x1="32" y1="0" x2="32" y2="16" /><line x1="32" y1="16" x2="24" y2="16" /><line x1="32" y1="64" x2="32" y2="48" /><line x1="32" y1="48" x2="24" y2="48" /><polyline points="30,27 27,32 33,32" /></svg>""",
    
    # OPAMPS: Left edge x=16, Right tip x=48.
    # In+: (0,24), In-: (0,40), Out: (64,32)
    "symbols/ic_opamp.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="16,16 48,32 16,48" /><line x1="0" y1="24" x2="16" y2="24" /><line x1="0" y1="40" x2="16" y2="40" /><line x1="48" y1="32" x2="64" y2="32" /><line x1="20" y1="40" x2="26" y2="40" /><line x1="20" y1="24" x2="26" y2="24" /><line x1="23" y1="21" x2="23" y2="27" /></svg>""",
    "symbols/ic_comparator.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="16,16 48,32 16,48" /><line x1="0" y1="24" x2="16" y2="24" /><line x1="0" y1="40" x2="16" y2="40" /><line x1="48" y1="32" x2="64" y2="32" /><polyline points="32,28 38,28 38,36" /></svg>""",
    
    # SOURCES: Terminals at (32,0) and (32,64)
    "symbols/source_dc.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="32" r="20" /><line x1="32" y1="0" x2="32" y2="12" /><line x1="32" y1="52" x2="32" y2="64" /><line x1="32" y1="18" x2="32" y2="26" /><line x1="28" y1="22" x2="36" y2="22" /><line x1="28" y1="42" x2="36" y2="42" /></svg>""",
    "symbols/source_ac.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="32" r="20" /><line x1="32" y1="0" x2="32" y2="12" /><line x1="32" y1="52" x2="32" y2="64" /><path d="M22,32 Q27,22 32,32 T42,32" /></svg>""",
    "symbols/source_current.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="32" r="20" /><line x1="32" y1="0" x2="32" y2="12" /><line x1="32" y1="52" x2="32" y2="64" /><line x1="32" y1="44" x2="32" y2="20" /><polyline points="26,26 32,20 38,26" /></svg>""",
    "symbols/source_pulse.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="32" r="20" /><line x1="32" y1="0" x2="32" y2="12" /><line x1="32" y1="52" x2="32" y2="64" /><polyline points="20,38 24,38 24,26 40,26 40,38 44,38" /></svg>""",
    
    # CONTROLLED SOURCES: Terminals at (32,0), (32,64), (0,32), (64,32) is inconsistent for diamond.
    # Standard: Output Vertical (32,0)-(32,64). Input Horizontal (0,32)-(64,32)?? No, diamond usually inputs on sides.
    # Let's use: Output pins (32,0) and (32,64). Input pins (0,32) and (64,32)?
    # Or Inputs at (0,32) and (16,32)?
    # Let's stick to: Output Vertical (32,0)-(32,64). Input Horizontal (0,32) and (64,32).
    "symbols/controlled_vcvs.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="32,16 48,32 32,48 16,32" /><line x1="32" y1="0" x2="32" y2="16" /><line x1="32" y1="48" x2="32" y2="64" /><line x1="0" y1="32" x2="16" y2="32" /><line x1="48" y1="32" x2="64" y2="32" /><line x1="28" y1="22" x2="36" y2="22" /><line x1="32" y1="18" x2="32" y2="26" /></svg>""",
    "symbols/controlled_vccs.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="32,16 48,32 32,48 16,32" /><line x1="32" y1="0" x2="32" y2="16" /><line x1="32" y1="48" x2="32" y2="64" /><line x1="0" y1="32" x2="16" y2="32" /><line x1="48" y1="32" x2="64" y2="32" /><line x1="32" y1="40" x2="32" y2="24" /><polyline points="28,28 32,24 36,28" /></svg>""",
    
    # METERS: Terminals (0,32) and (64,32)
    "symbols/meter_ampere.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="32" r="20" /><line x1="0" y1="32" x2="12" y2="32" /><line x1="52" y1="32" x2="64" y2="32" /><polyline points="26,40 32,24 38,40" /><line x1="28" y1="34" x2="36" y2="34" /></svg>""",
    "symbols/meter_volt.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="32" cy="32" r="20" /><line x1="0" y1="32" x2="12" y2="32" /><line x1="52" y1="32" x2="64" y2="32" /><polyline points="26,24 32,40 38,24" /></svg>""",
    
    # MISC
    "symbols/misc_switch.svg": """<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="0" y1="32" x2="20" y2="32" /><line x1="44" y1="32" x2="64" y2="32" /><circle cx="20" cy="32" r="2" fill="white" /><circle cx="44" cy="32" r="2" fill="white" /><line x1="20" y1="32" x2="42" y2="24" /></svg>""",
}

def create_zip():
    zip_filename = "circuit_designer_assets.zip"
    print(f"Creating {zip_filename}...")
    
    # Merge dicts
    all_assets = {**ui_icons, **schematic_symbols}
    
    with zipfile.ZipFile(zip_filename, 'w', zipfile.ZIP_DEFLATED) as zf:
        for filename, content in all_assets.items():
            zf.writestr(filename, content.strip())
            print(f"  Added: {filename}")
            
    print("\nSuccess! All SVGs (8px grid aligned) merged into 'circuit_designer_assets.zip'.")

if __name__ == "__main__":
    create_zip()